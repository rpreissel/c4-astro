---
import { LikeC4View as ReactLikeC4View, type LikeC4ViewId } from 'likec4:react'

interface Props {
  viewId: LikeC4ViewId
  interactive?: boolean
  /**
   * For dynamic views: display as 'diagram' or 'sequence'
   * Default is 'diagram'
   */
  displayVariant?: 'diagram' | 'sequence'
}

const { viewId, interactive = true, displayVariant } = Astro.props
---

<div class="likec4-container">
  <ReactLikeC4View
    viewId={viewId}
    controls={interactive}
    dynamicViewVariant={displayVariant}
    browser={{
      enableFocusMode: interactive,
      enableSearch: interactive,
    }}
    client:only="react"
  />
</div>

<style>
  .likec4-container {
    width: 100%;
    min-height: 400px;
    border: 1px solid var(--sl-color-gray-5);
    border-radius: 8px;
    overflow: hidden;
    margin: 1rem 0;
  }
</style>
